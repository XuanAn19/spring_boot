{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/snack-bar\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/service/doctor.service\";\nimport * as i4 from \"src/app/service/appointment.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nfunction UserDashboardComponent_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const doctorSpec_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", doctorSpec_r2.doctor.userId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", doctorSpec_r2.doctor.user.firstName, \" \", doctorSpec_r2.doctor.user.lastName, \" - \", doctorSpec_r2.specialization.specializationName, \" \");\n  }\n}\nexport class UserDashboardComponent {\n  constructor(snack, router, doctorService, appointmentService) {\n    this.snack = snack;\n    this.router = router;\n    this.doctorService = doctorService;\n    this.appointmentService = appointmentService;\n    this.doctorSpecs = [];\n    this.appointment = {\n      doctor_id: 0,\n      user_id: 0,\n      appointmentDate: '',\n      appointmentTime: '',\n      bookingDate: Date.now(),\n      reason: ''\n    };\n  }\n  ngOnInit() {\n    this.getAllDoctorSpec();\n  }\n  getAllDoctorSpec() {\n    this.doctorService.getAllDoctorSpec().subscribe(data => {\n      this.doctorSpecs = data;\n      console.log(data);\n    }, error => {\n      console.log(error);\n    });\n  }\n  getDoctorSpecByDoctorId(doctorId) {\n    this.doctorService.getDoctorSpecializationByDoctorId(doctorId).subscribe(data => {\n      console.log(data);\n    });\n  }\n  bookAppointment() {\n    //to set user_id\n    let userStr = localStorage.getItem('user');\n    if (userStr) {\n      let user = JSON.parse(userStr);\n      this.appointment.user_id = user.userId;\n    } else {\n      console.error('User data not found in localStorage.');\n    }\n    this.appointmentService.bookAppointment(this.appointment).subscribe(data => {\n      console.log(data);\n      Swal.fire({\n        title: \"Appointment booked successfully\",\n        text: \"Please wait for the doctor's approval\",\n        icon: \"success\",\n        confirmButtonText: 'OK'\n      }).then(result => {\n        if (result.isConfirmed) {\n          this.router.navigate(['/userAppointments']);\n        }\n      });\n    }, error => {\n      console.log(error);\n      const snackBarRef = this.snack.open(\"Error Booking Appointment..\", 'ok', {\n        verticalPosition: 'top'\n      });\n      snackBarRef.onAction().subscribe(() => {\n        window.location.reload();\n      });\n    });\n  }\n  static #_ = this.ɵfac = function UserDashboardComponent_Factory(t) {\n    return new (t || UserDashboardComponent)(i0.ɵɵdirectiveInject(i1.MatSnackBar), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.DoctorService), i0.ɵɵdirectiveInject(i4.AppointmentService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserDashboardComponent,\n    selectors: [[\"app-user-dashboard\"]],\n    decls: 33,\n    vars: 6,\n    consts: [[1, \"appointment-page\"], [1, \"appointment-container\"], [\"id\", \"appointment-heading\"], [1, \"appointment-form\", 3, \"ngSubmit\"], [\"appointmentForm\", \"ngForm\"], [1, \"input-div\"], [1, \"input-divs\"], [\"id\", \"doctor_id\", \"name\", \"doctor_id\", \"required\", \"\", 1, \"appointment-input\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"date\", \"id\", \"appointmentDate\", \"name\", \"appointmentDate\", \"required\", \"\", \"placeholder\", \"Appointment Date\", 1, \"appointment-input\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"appointmentTime\", \"name\", \"appointmentTime\", \"required\", \"\", 1, \"appointment-input\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\", \"disabled\", \"\"], [\"value\", \"10:00 AM\"], [\"value\", \"12:00 PM\"], [\"value\", \"02:00 PM\"], [\"value\", \"04:00 PM\"], [\"value\", \"06:00 PM\"], [\"id\", \"reason\", \"name\", \"reason\", \"placeholder\", \"l\\u00FD Do\", \"required\", \"\", \"rows\", \"3\", 1, \"appointment-input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"appointment-button\", 3, \"disabled\"], [3, \"value\"]],\n    template: function UserDashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"p\", 2);\n        i0.ɵɵtext(3, \"\\u0110\\u1EB6T L\\u1ECACH H\\u1EB8N\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 3, 4);\n        i0.ɵɵlistener(\"ngSubmit\", function UserDashboardComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.bookAppointment();\n        });\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"select\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function UserDashboardComponent_Template_select_ngModelChange_8_listener($event) {\n          return ctx.appointment.doctor_id = $event;\n        });\n        i0.ɵɵtemplate(9, UserDashboardComponent_option_9_Template, 2, 4, \"option\", 8);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"div\", 5)(11, \"div\", 6)(12, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function UserDashboardComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.appointment.appointmentDate = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 5)(14, \"div\", 6)(15, \"select\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function UserDashboardComponent_Template_select_ngModelChange_15_listener($event) {\n          return ctx.appointment.appointmentTime = $event;\n        });\n        i0.ɵɵelementStart(16, \"option\", 11);\n        i0.ɵɵtext(17, \"Th\\u1EDDi Gian\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"option\", 12);\n        i0.ɵɵtext(19, \"10 AM\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"option\", 13);\n        i0.ɵɵtext(21, \"12 PM\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"option\", 14);\n        i0.ɵɵtext(23, \"2 PM\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"option\", 15);\n        i0.ɵɵtext(25, \"4 PM\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"option\", 16);\n        i0.ɵɵtext(27, \"6 PM\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(28, \"div\", 5)(29, \"div\", 6)(30, \"textarea\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function UserDashboardComponent_Template_textarea_ngModelChange_30_listener($event) {\n          return ctx.appointment.reason = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(31, \"button\", 18);\n        i0.ɵɵtext(32, \"\\u0110\\u1EB7t L\\u1ECBch\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(5);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.doctor_id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.doctorSpecs);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.appointmentDate);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.appointmentTime);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngModel\", ctx.appointment.reason);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid);\n      }\n    },\n    dependencies: [i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.NgForOf],\n    styles: [\".appointment-page[_ngcontent-%COMP%] {\\r\\n  background-image: url(\\\"https://themewagon.github.io/medicalcenter/assets/img/hero/hero2.png\\\");\\r\\n  height:88vh;\\r\\n  padding-top: 12vh;\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  }\\r\\n  \\r\\n  .appointment-container[_ngcontent-%COMP%] {\\r\\n    background-color: #fff;\\r\\n    padding: 2rem;\\r\\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\\r\\n    border-radius: 5px;\\r\\n    width: 68%;\\r\\n    max-height: 75%;\\r\\n    max-width: 500px;\\r\\n \\r\\n  }\\r\\n  \\r\\n  #appointment-heading[_ngcontent-%COMP%] {\\r\\n    font-size: 24px;\\r\\n    font-weight: bold;\\r\\n    margin-top:30px;\\r\\n    text-align: center;\\r\\n  }\\r\\n  \\r\\n  .appointment-form[_ngcontent-%COMP%] {\\r\\n    margin-top: 40px;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 1.2rem;\\r\\n    padding: 0 10px;\\r\\n  \\r\\n  }\\r\\n  \\r\\n  .input-div[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    width: 100%;\\r\\n  }\\r\\n  \\r\\n  .input-divs[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n\\r\\n  }\\r\\n\\r\\n  .input-divs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\r\\n    padding: 0px 0px;\\r\\n    background-color: white;\\r\\n  }\\r\\n\\r\\n  .appointment-input[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{\\r\\n    padding: 0px;\\r\\n    font-size: 14px;\\r\\n    background-color: #fff;\\r\\n    color: #333;\\r\\n  }\\r\\n\\r\\n  .appointment-input[_ngcontent-%COMP%]   option[disabled][hidden][_ngcontent-%COMP%] {\\r\\n    color: #999;\\r\\n  }\\r\\n\\r\\n  .input-divs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\r\\n    height: 70px;\\r\\n  }\\r\\n  \\r\\n  .appointment-input[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n  height: 35px;\\r\\n  border: 1px solid #ddd;\\r\\n  padding: 0;\\r\\n  \\r\\n  }\\r\\n  \\r\\n  .appointment-input[_ngcontent-%COMP%]:focus {\\r\\n    outline: none;\\r\\n    border-color: #3f51b5;\\r\\n  }\\r\\n  \\r\\n \\r\\n  button[_ngcontent-%COMP%] {\\r\\n    margin-top: 5px;\\r\\n    margin-bottom: 20px;\\r\\n    padding:5px 14px;\\r\\n    height: 45px;\\r\\n    background-color: #42b7ff;\\r\\n    color: white;\\r\\n    border: none;\\r\\n    border-radius: 6px;\\r\\n    font-size: 15px;\\r\\n    font-weight: 500;\\r\\n    cursor: pointer;\\r\\n    transition: 0.5s all;\\r\\n  }\\r\\n  button[_ngcontent-%COMP%]:disabled{\\r\\n    background-color: #cccccc; \\r\\n    color: #666666;\\r\\n  }\\r\\n  button[_ngcontent-%COMP%]:hover:disabled{\\r\\n    background-color: #cccccc; \\r\\n  color: #666666;\\r\\n  }\\r\\n  button[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #0ea2ff;\\r\\n  }\\r\\n  \\r\\n  @media (max-width: 800px) {\\r\\n    .appointment-form[_ngcontent-%COMP%] {\\r\\n    gap: 1rem;\\r\\n    }\\r\\n    .appointment-container[_ngcontent-%COMP%] {\\r\\n      height: 60%;\\r\\n    }\\r\\n  }\\r\\n  @media (max-width: 500px) {\\r\\n    .appointment-page[_ngcontent-%COMP%] {\\r\\n      height:88vh;\\r\\n      padding-top: 10vh;\\r\\n    }\\r\\n    .appointment-container[_ngcontent-%COMP%] {\\r\\n      padding: 15px;\\r\\n      width: 82%;\\r\\n      max-height: 75%;\\r\\n    }\\r\\n    \\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ub3JtYWxVc2VyL3VzZXItZGFzaGJvYXJkL3VzZXItZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw2RkFBNkY7RUFDN0YsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkI7O0VBRUE7SUFDRSxzQkFBc0I7SUFDdEIsYUFBYTtJQUNiLHVDQUF1QztJQUN2QyxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLGVBQWU7SUFDZixnQkFBZ0I7O0VBRWxCOztFQUVBO0lBQ0UsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2Ysa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0UsZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsV0FBVztJQUNYLGVBQWU7O0VBRWpCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixXQUFXO0VBQ2I7O0VBRUE7SUFDRSxXQUFXOztFQUViOztFQUVBO0lBQ0UsZ0JBQWdCO0lBQ2hCLHVCQUF1QjtFQUN6Qjs7RUFFQTtJQUNFLFlBQVk7SUFDWixlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLFdBQVc7RUFDYjs7RUFFQTtJQUNFLFlBQVk7RUFDZDs7RUFFQTtJQUNFLFdBQVc7RUFDYixZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLFVBQVU7O0VBRVY7O0VBRUE7SUFDRSxhQUFhO0lBQ2IscUJBQXFCO0VBQ3ZCOzs7RUFHQTtJQUNFLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWix5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2Ysb0JBQW9CO0VBQ3RCO0VBQ0E7SUFDRSx5QkFBeUIsRUFBRSxlQUFlO0lBQzFDLGNBQWM7RUFDaEI7RUFDQTtJQUNFLHlCQUF5QixFQUFFLGVBQWU7RUFDNUMsY0FBYztFQUNkO0VBQ0E7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRTtJQUNBLFNBQVM7SUFDVDtJQUNBO01BQ0UsV0FBVztJQUNiO0VBQ0Y7RUFDQTtJQUNFO01BQ0UsV0FBVztNQUNYLGlCQUFpQjtJQUNuQjtJQUNBO01BQ0UsYUFBYTtNQUNiLFVBQVU7TUFDVixlQUFlO0lBQ2pCOztFQUVGIiwic291cmNlc0NvbnRlbnQiOlsiLmFwcG9pbnRtZW50LXBhZ2Uge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImh0dHBzOi8vdGhlbWV3YWdvbi5naXRodWIuaW8vbWVkaWNhbGNlbnRlci9hc3NldHMvaW1nL2hlcm8vaGVybzIucG5nXCIpO1xyXG4gIGhlaWdodDo4OHZoO1xyXG4gIHBhZGRpbmctdG9wOiAxMnZoO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICAuYXBwb2ludG1lbnQtY29udGFpbmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICBwYWRkaW5nOiAycmVtO1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgd2lkdGg6IDY4JTtcclxuICAgIG1heC1oZWlnaHQ6IDc1JTtcclxuICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiBcclxuICB9XHJcbiAgXHJcbiAgI2FwcG9pbnRtZW50LWhlYWRpbmcge1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBtYXJnaW4tdG9wOjMwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5hcHBvaW50bWVudC1mb3JtIHtcclxuICAgIG1hcmdpbi10b3A6IDQwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGdhcDogMS4ycmVtO1xyXG4gICAgcGFkZGluZzogMCAxMHB4O1xyXG4gIFxyXG4gIH1cclxuICBcclxuICAuaW5wdXQtZGl2IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG4gIFxyXG4gIC5pbnB1dC1kaXZzIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICB9XHJcblxyXG4gIC5pbnB1dC1kaXZzIHNlbGVjdCB7XHJcbiAgICBwYWRkaW5nOiAwcHggMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgfVxyXG5cclxuICAuYXBwb2ludG1lbnQtaW5wdXQgb3B0aW9ue1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICAgIGNvbG9yOiAjMzMzO1xyXG4gIH1cclxuXHJcbiAgLmFwcG9pbnRtZW50LWlucHV0IG9wdGlvbltkaXNhYmxlZF1baGlkZGVuXSB7XHJcbiAgICBjb2xvcjogIzk5OTtcclxuICB9XHJcblxyXG4gIC5pbnB1dC1kaXZzIHRleHRhcmVhIHtcclxuICAgIGhlaWdodDogNzBweDtcclxuICB9XHJcbiAgXHJcbiAgLmFwcG9pbnRtZW50LWlucHV0IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMzVweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgXHJcbiAgfVxyXG4gIFxyXG4gIC5hcHBvaW50bWVudC1pbnB1dDpmb2N1cyB7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjM2Y1MWI1O1xyXG4gIH1cclxuICBcclxuIFxyXG4gIGJ1dHRvbiB7XHJcbiAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgcGFkZGluZzo1cHggMTRweDtcclxuICAgIGhlaWdodDogNDVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0MmI3ZmY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogMC41cyBhbGw7XHJcbiAgfVxyXG4gIGJ1dHRvbjpkaXNhYmxlZHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2NjY2M7IC8qIExpZ2h0IGdyYXkgKi9cclxuICAgIGNvbG9yOiAjNjY2NjY2O1xyXG4gIH1cclxuICBidXR0b246aG92ZXI6ZGlzYWJsZWR7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjOyAvKiBMaWdodCBncmF5ICovXHJcbiAgY29sb3I6ICM2NjY2NjY7XHJcbiAgfVxyXG4gIGJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGVhMmZmO1xyXG4gIH1cclxuICBcclxuICBAbWVkaWEgKG1heC13aWR0aDogODAwcHgpIHtcclxuICAgIC5hcHBvaW50bWVudC1mb3JtIHtcclxuICAgIGdhcDogMXJlbTtcclxuICAgIH1cclxuICAgIC5hcHBvaW50bWVudC1jb250YWluZXIge1xyXG4gICAgICBoZWlnaHQ6IDYwJTtcclxuICAgIH1cclxuICB9XHJcbiAgQG1lZGlhIChtYXgtd2lkdGg6IDUwMHB4KSB7XHJcbiAgICAuYXBwb2ludG1lbnQtcGFnZSB7XHJcbiAgICAgIGhlaWdodDo4OHZoO1xyXG4gICAgICBwYWRkaW5nLXRvcDogMTB2aDtcclxuICAgIH1cclxuICAgIC5hcHBvaW50bWVudC1jb250YWluZXIge1xyXG4gICAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgICB3aWR0aDogODIlO1xyXG4gICAgICBtYXgtaGVpZ2h0OiA3NSU7XHJcbiAgICB9XHJcbiAgICBcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Swal","i0","UserDashboardComponent","constructor","snack","router","doctorService","appointmentService","doctor_id","user_id","appointmentDate","appointmentTime","bookingDate","Date","now","reason","ngOnInit","getAllDoctorSpec","subscribe","data","doctorSpecs","console","log","error","getDoctorSpecByDoctorId","doctorId","getDoctorSpecializationByDoctorId","bookAppointment","userStr","localStorage","getItem","user","JSON","parse","appointment","userId","fire","title","text","icon","confirmButtonText","then","result","isConfirmed","navigate","snackBarRef","open","verticalPosition","onAction","window","location","reload","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\HealthCareSystem\\Frontend\\src\\app\\components\\normalUser\\user-dashboard\\user-dashboard.component.ts","C:\\HealthCareSystem\\Frontend\\src\\app\\components\\normalUser\\user-dashboard\\user-dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { AppointmentService } from 'src/app/service/appointment.service';\r\nimport { DoctorService } from 'src/app/service/doctor.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-user-dashboard',\r\n  templateUrl: './user-dashboard.component.html',\r\n  styleUrls: ['./user-dashboard.component.css']\r\n})\r\nexport class UserDashboardComponent implements OnInit {\r\n\r\n  doctorSpecs: any[] = [];\r\n\r\n  appointment = {\r\n    doctor_id: 0,\r\n    user_id: 0,\r\n    appointmentDate: '',\r\n    appointmentTime: '',\r\n    bookingDate: Date.now(),\r\n    reason: ''\r\n  }\r\n\r\n\r\n  constructor(private snack : MatSnackBar ,private router : Router,private doctorService: DoctorService, private appointmentService: AppointmentService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getAllDoctorSpec();\r\n  }\r\n\r\n  getAllDoctorSpec() {\r\n\r\n    this.doctorService.getAllDoctorSpec().subscribe(\r\n      data => {\r\n        this.doctorSpecs = data;\r\n        console.log(data);\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  getDoctorSpecByDoctorId(doctorId: any) {\r\n    this.doctorService.getDoctorSpecializationByDoctorId(doctorId).subscribe(\r\n      data => {\r\n        console.log(data);\r\n      }\r\n    )\r\n  }\r\n\r\n  bookAppointment() {\r\n    //to set user_id\r\n    let userStr: any = localStorage.getItem('user');\r\n    if (userStr) {\r\n      let user = JSON.parse(userStr);\r\n      this.appointment.user_id = user.userId;\r\n    } else {\r\n      console.error('User data not found in localStorage.');\r\n    }\r\n\r\n    this.appointmentService.bookAppointment(this.appointment).subscribe(\r\n      data => {\r\n        console.log(data);\r\n        Swal.fire({\r\n          title: \"Appointment booked successfully\",\r\n          text: \"Please wait for the doctor's approval\",\r\n          icon: \"success\",\r\n          confirmButtonText: 'OK',\r\n      }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            this.router.navigate(['/userAppointments']);\r\n          }\r\n      });\r\n\r\n      },\r\n      error => {\r\n        console.log(error);\r\n        const snackBarRef = this.snack.open(\"Error Booking Appointment..\", 'ok', {\r\n          verticalPosition: 'top'\r\n        });\r\n      \r\n        snackBarRef.onAction().subscribe(() => {\r\n          window.location.reload();\r\n        });\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"appointment-page\">\r\n  <div class=\"appointment-container\">\r\n    <p id=\"appointment-heading\">ĐẶT LỊCH HẸN</p>\r\n    <form #appointmentForm=\"ngForm\" (ngSubmit)=\"bookAppointment()\" class=\"appointment-form\">\r\n      \r\n      <div class=\"input-div\">\r\n        <div class=\"input-divs\">\r\n          <select  id=\"doctor_id\" name=\"doctor_id\" [(ngModel)]=\"appointment.doctor_id\" class=\"appointment-input\" required>\r\n\r\n            <option *ngFor=\"let doctorSpec of doctorSpecs\" [value]=\"doctorSpec.doctor.userId\">\r\n              {{ doctorSpec.doctor.user.firstName }} {{ doctorSpec.doctor.user.lastName }} - {{ doctorSpec.specialization.specializationName }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      \r\n\r\n      <!-- Appointment Date Field -->\r\n      <div class=\"input-div\">\r\n        <div class=\"input-divs\">\r\n          <input type=\"date\" id=\"appointmentDate\" name=\"appointmentDate\" [(ngModel)]=\"appointment.appointmentDate\" required class=\"appointment-input\" placeholder=\"Appointment Date\">\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Appointment Time Field -->\r\n      <div class=\"input-div\">\r\n        <div class=\"input-divs\">\r\n          <select  id=\"appointmentTime\" name=\"appointmentTime\" [(ngModel)]=\"appointment.appointmentTime\" required\r\n            class=\"appointment-input\">\r\n            <option value=\"\" disabled>Thời Gian</option>\r\n            <option value=\"10:00 AM\">10 AM</option>\r\n            <option value=\"12:00 PM\">12 PM</option>\r\n            <option value=\"02:00 PM\">2 PM</option>\r\n            <option value=\"04:00 PM\">4 PM</option>\r\n            <option value=\"06:00 PM\">6 PM</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <!-- Reason Field -->\r\n      <div class=\"input-div\">\r\n        <div class=\"input-divs\">\r\n          <textarea id=\"reason\" name=\"reason\" [(ngModel)]=\"appointment.reason\" class=\"appointment-input\" placeholder=\"lý Do\" required  rows=\"3\"></textarea>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <button type=\"submit\" [disabled]=\"appointmentForm.invalid\" class=\"appointment-button\">Đặt Lịch</button>\r\n      \r\n    </form>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}