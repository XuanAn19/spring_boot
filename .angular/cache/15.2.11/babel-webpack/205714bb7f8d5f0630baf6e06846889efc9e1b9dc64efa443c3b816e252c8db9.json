{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/admin.service\";\nimport * as i2 from \"@angular/common\";\nfunction AddUserComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function AddUserComponent_tr_17_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const user_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteUser(user_r1.userId));\n    });\n    i0.ɵɵtext(9, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", user_r1.user.firstName, \" \", user_r1.user.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.user.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.user.role);\n  }\n}\nexport class AddUserComponent {\n  constructor(admin) {\n    this.admin = admin;\n    this.users = [];\n    this.selectedUser = null;\n    this.newUser = {};\n  }\n  ngOnInit() {\n    this.fetchUsers();\n  }\n  fetchUsers() {\n    this.admin.getAllUsers().subscribe(data => {\n      this.users = data;\n    }, error => {\n      console.error('Error fetching users:', error);\n    });\n  }\n  createUser() {\n    this.admin.createNormalUser(this.newUser).subscribe(response => {\n      console.log('User created successfully:', response);\n      this.fetchUsers(); // Reload users after creating a new user\n      this.resetForm(); // Reset the form fields\n    }, error => {\n      console.error('Error creating user:', error);\n    });\n  }\n  resetForm() {\n    this.newUser = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      role: 'NORMAL'\n    }; // Reset form values\n  }\n  // Update user\n  updateUser() {\n    if (this.selectedUser) {\n      this.admin.updateUser(this.selectedUser.email, this.selectedUser).subscribe(response => {\n        this.fetchUsers(); // Refresh the list after updating\n        alert('User updated successfully!');\n      }, error => {\n        console.error('Error updating user:', error);\n      });\n    }\n  }\n  // Delete user\n  deleteUser(userId) {\n    this.admin.deleteNormalUser(userId).subscribe(response => {\n      this.fetchUsers(); // Refresh the list after deletion\n      alert('User deleted successfully!');\n    }, error => {\n      console.error('Error deleting user:', error);\n    });\n  }\n  // Select user for editing\n  selectUser(user) {\n    this.selectedUser = {\n      ...user\n    }; // Clone to prevent direct modification\n  }\n  // Reset selection\n  resetSelection() {\n    this.selectedUser = null;\n  }\n  static #_ = this.ɵfac = function AddUserComponent_Factory(t) {\n    return new (t || AddUserComponent)(i0.ɵɵdirectiveInject(i1.AdminService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddUserComponent,\n    selectors: [[\"app-add-user\"]],\n    decls: 18,\n    vars: 1,\n    consts: [[1, \"user-management\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n    template: function AddUserComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"User Management\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"h2\");\n        i0.ɵɵtext(4, \"Danh s\\u00E1ch c\\u00E1c quy\\u1EC1n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"table\")(6, \"thead\")(7, \"tr\")(8, \"th\");\n        i0.ɵɵtext(9, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"th\");\n        i0.ɵɵtext(11, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\");\n        i0.ɵɵtext(13, \"Role\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(16, \"tbody\");\n        i0.ɵɵtemplate(17, AddUserComponent_tr_17_Template, 10, 4, \"tr\", 1);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      }\n    },\n    dependencies: [i2.NgForOf],\n    styles: [\".content[_ngcontent-%COMP%] {\\r\\n    font-family: 'Arial', sans-serif;\\r\\n    max-width: 800px;\\r\\n    margin: 0 auto;\\r\\n    padding: 20px;\\r\\n    background-color: #f9f9f9;\\r\\n    border-radius: 10px;\\r\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\r\\n    \\r\\n  }\\r\\n  \\r\\n  \\r\\n  .profile-card[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    background-color: #ffffff;\\r\\n    padding: 20px;\\r\\n    border-radius: 10px;\\r\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\r\\n  }\\r\\n  \\r\\n  .profile-card[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\n  \\r\\n  .profile-card[_ngcontent-%COMP%]   .account-logo[_ngcontent-%COMP%] {\\r\\n    width: 100px;\\r\\n    height: 100px;\\r\\n    border-radius: 50%;\\r\\n    border: 2px solid #3498db;\\r\\n  }\\r\\n  \\r\\n  .profile-card[_ngcontent-%COMP%]   #name[_ngcontent-%COMP%] {\\r\\n    font-size: 24px;\\r\\n    font-weight: bold;\\r\\n    color: #2c3e50;\\r\\n    margin-bottom: 10px;\\r\\n  }\\r\\n  \\r\\n  .profile-card[_ngcontent-%COMP%]   #addressN[_ngcontent-%COMP%] {\\r\\n    font-size: 16px;\\r\\n    color: #34495e;\\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\n  \\r\\n  .profile-card[_ngcontent-%COMP%]   .div1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\r\\n    font-size: 14px;\\r\\n    color: #7f8c8d;\\r\\n    margin: 5px 0;\\r\\n  }\\r\\n  \\r\\n  .profile-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    background-color: #3498db;\\r\\n    color: white;\\r\\n    border: none;\\r\\n    padding: 10px 20px;\\r\\n    border-radius: 5px;\\r\\n    font-size: 16px;\\r\\n    cursor: pointer;\\r\\n    transition: background-color 0.3s ease;\\r\\n  }\\r\\n  \\r\\n  .profile-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #2980b9;\\r\\n  }\\r\\n  \\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%] {\\r\\n    background-color: #ffffff;\\r\\n    padding: 20px;\\r\\n    border-radius: 10px;\\r\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   #update[_ngcontent-%COMP%] {\\r\\n    font-size: 24px;\\r\\n    font-weight: bold;\\r\\n    color: #2c3e50;\\r\\n    text-align: center;\\r\\n    margin-bottom: 20px;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .update-form[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 15px;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    gap: 10px;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .update-card[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\r\\n    flex: 1;\\r\\n    padding: 10px;\\r\\n    border: 1px solid #bdc3c7;\\r\\n    border-radius: 5px;\\r\\n    font-size: 14px;\\r\\n    color: #2c3e50;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .update-card[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus {\\r\\n    border-color: #3498db;\\r\\n    outline: none;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\r\\n    appearance: none;\\r\\n    background-color: white;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%] {\\r\\n    font-size: 12px;\\r\\n    color: red;\\r\\n    margin-top: 5px;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    gap: 10px;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    flex: 1;\\r\\n    background-color: #3498db;\\r\\n    color: white;\\r\\n    border: none;\\r\\n    padding: 10px 20px;\\r\\n    border-radius: 5px;\\r\\n    font-size: 16px;\\r\\n    cursor: pointer;\\r\\n    transition: background-color 0.3s ease;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled {\\r\\n    background-color: #bdc3c7;\\r\\n    cursor: not-allowed;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled) {\\r\\n    background-color: #2980b9;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child {\\r\\n    background-color: #e67e22;\\r\\n  }\\r\\n  \\r\\n  .update-card[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover {\\r\\n    background-color: #d35400;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZG1pbi9hZGQtdXNlci9hZGQtdXNlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGVBQWU7QUFDZjtJQUNJLGdDQUFnQztJQUNoQyxnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsbUJBQW1CO0lBQ25CLHdDQUF3Qzs7RUFFMUM7O0VBRUEsMEJBQTBCO0VBQzFCO0lBQ0Usa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHdDQUF3QztFQUMxQzs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLFlBQVk7SUFDWixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsY0FBYztJQUNkLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLGVBQWU7SUFDZixjQUFjO0lBQ2QsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsZUFBZTtJQUNmLGNBQWM7SUFDZCxhQUFhO0VBQ2Y7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixlQUFlO0lBQ2Ysc0NBQXNDO0VBQ3hDOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztFQUVBLDJCQUEyQjtFQUMzQjtJQUNFLHlCQUF5QjtJQUN6QixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHdDQUF3QztFQUMxQzs7RUFFQTtJQUNFLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsY0FBYztJQUNkLGtCQUFrQjtJQUNsQixtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFNBQVM7RUFDWDs7RUFFQTtJQUNFLGFBQWE7SUFDYixTQUFTO0VBQ1g7O0VBRUE7O0lBRUUsT0FBTztJQUNQLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixjQUFjO0VBQ2hCOztFQUVBOztJQUVFLHFCQUFxQjtJQUNyQixhQUFhO0VBQ2Y7O0VBRUE7SUFDRSxnQkFBZ0I7SUFDaEIsdUJBQXVCO0VBQ3pCOztFQUVBO0lBQ0UsZUFBZTtJQUNmLFVBQVU7SUFDVixlQUFlO0VBQ2pCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLDhCQUE4QjtJQUM5QixTQUFTO0VBQ1g7O0VBRUE7SUFDRSxPQUFPO0lBQ1AseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsZUFBZTtJQUNmLHNDQUFzQztFQUN4Qzs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0IiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBQaMOhwrrCp24gY2h1bmcgKi9cclxuLmNvbnRlbnQge1xyXG4gICAgZm9udC1mYW1pbHk6ICdBcmlhbCcsIHNhbnMtc2VyaWY7XHJcbiAgICBtYXgtd2lkdGg6IDgwMHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgXHJcbiAgfVxyXG4gIFxyXG4gIC8qIFRow6HCusK7IHRow4PCtG5nIHRpbiBjw4PCoSBuaMODwqJuICovXHJcbiAgLnByb2ZpbGUtY2FyZCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIH1cclxuICBcclxuICAucHJvZmlsZS1jYXJkIC5sb2dvLWNvbnRhaW5lciB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIH1cclxuICBcclxuICAucHJvZmlsZS1jYXJkIC5hY2NvdW50LWxvZ28ge1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkICMzNDk4ZGI7XHJcbiAgfVxyXG4gIFxyXG4gIC5wcm9maWxlLWNhcmQgI25hbWUge1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBjb2xvcjogIzJjM2U1MDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5wcm9maWxlLWNhcmQgI2FkZHJlc3NOIHtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGNvbG9yOiAjMzQ0OTVlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgLnByb2ZpbGUtY2FyZCAuZGl2MSBwIHtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGNvbG9yOiAjN2Y4YzhkO1xyXG4gICAgbWFyZ2luOiA1cHggMDtcclxuICB9XHJcbiAgXHJcbiAgLnByb2ZpbGUtY2FyZCBidXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzM0OThkYjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlO1xyXG4gIH1cclxuICBcclxuICAucHJvZmlsZS1jYXJkIGJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjk4MGI5O1xyXG4gIH1cclxuICBcclxuICAvKiBUaMOhwrrCuyBjw6HCusKtcCBuaMOhwrrCrXQgdGjDg8K0bmcgdGluICovXHJcbiAgLnVwZGF0ZS1jYXJkIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgfVxyXG4gIFxyXG4gIC51cGRhdGUtY2FyZCAjdXBkYXRlIHtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgY29sb3I6ICMyYzNlNTA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIH1cclxuICBcclxuICAudXBkYXRlLWNhcmQgLnVwZGF0ZS1mb3JtIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZ2FwOiAxNXB4O1xyXG4gIH1cclxuICBcclxuICAudXBkYXRlLWNhcmQgLmlucHV0LXJvdyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZ2FwOiAxMHB4O1xyXG4gIH1cclxuICBcclxuICAudXBkYXRlLWNhcmQgLmlucHV0LXJvdyBpbnB1dCxcclxuICAudXBkYXRlLWNhcmQgLmlucHV0LXJvdyBzZWxlY3Qge1xyXG4gICAgZmxleDogMTtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYmRjM2M3O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgY29sb3I6ICMyYzNlNTA7XHJcbiAgfVxyXG4gIFxyXG4gIC51cGRhdGUtY2FyZCAuaW5wdXQtcm93IGlucHV0OmZvY3VzLFxyXG4gIC51cGRhdGUtY2FyZCAuaW5wdXQtcm93IHNlbGVjdDpmb2N1cyB7XHJcbiAgICBib3JkZXItY29sb3I6ICMzNDk4ZGI7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gIH1cclxuICBcclxuICAudXBkYXRlLWNhcmQgLmlucHV0LXJvdyBzZWxlY3Qge1xyXG4gICAgYXBwZWFyYW5jZTogbm9uZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIH1cclxuICBcclxuICAudXBkYXRlLWNhcmQgLmVycm9yLW1lc3NhZ2Uge1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgY29sb3I6IHJlZDtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxuICB9XHJcbiAgXHJcbiAgLnVwZGF0ZS1jYXJkIC5idXR0b25zIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBnYXA6IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC51cGRhdGUtY2FyZCAuYnV0dG9ucyBidXR0b24ge1xyXG4gICAgZmxleDogMTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzNDk4ZGI7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZTtcclxuICB9XHJcbiAgXHJcbiAgLnVwZGF0ZS1jYXJkIC5idXR0b25zIGJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmRjM2M3O1xyXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxuICB9XHJcbiAgXHJcbiAgLnVwZGF0ZS1jYXJkIC5idXR0b25zIGJ1dHRvbjpob3Zlcjpub3QoOmRpc2FibGVkKSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjk4MGI5O1xyXG4gIH1cclxuICBcclxuICAudXBkYXRlLWNhcmQgLmJ1dHRvbnMgYnV0dG9uOmxhc3QtY2hpbGQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U2N2UyMjtcclxuICB9XHJcbiAgXHJcbiAgLnVwZGF0ZS1jYXJkIC5idXR0b25zIGJ1dHRvbjpsYXN0LWNoaWxkOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkMzU0MDA7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","AddUserComponent","constructor","admin","ngOnInit","fetchUsers","getAllUsers","subscribe","data","users","error","console","createUser","createNormalUser","newUser","response","log","resetForm","firstName","lastName","email","password","role","updateUser","selectedUser","alert","deleteUser","userId","deleteNormalUser","selectUser","user","resetSelection","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\voket\\Desktop\\Moduel2\\HealthCareSystem\\Frontend1\\Frontend\\src\\app\\components\\admin\\add-user\\add-user.component.html","C:\\Users\\voket\\Desktop\\Moduel2\\HealthCareSystem\\Frontend1\\Frontend\\src\\app\\components\\admin\\add-user\\add-user.component.ts"],"sourcesContent":["<div class=\"user-management\">\n    <h1>User Management</h1>\n  \n    <!-- Create New User Form -->\n    <!--\n    <div>\n      <h2>Create New User</h2>\n      <form (ngSubmit)=\"createUser()\">\n        <label for=\"firstName\">First Name:</label>\n        <input id=\"firstName\" [(ngModel)]=\"newUser.firstName\" name=\"firstName\" required>\n  \n        <label for=\"lastName\">Last Name:</label>\n        <input id=\"lastName\" [(ngModel)]=\"newUser.lastName\" name=\"lastName\" required>\n  \n        <label for=\"email\">Email:</label>\n        <input id=\"email\" [(ngModel)]=\"newUser.email\" name=\"email\" type=\"email\" required>\n  \n        <label for=\"password\">Password:</label>\n        <input id=\"password\" [(ngModel)]=\"newUser.password\" name=\"password\" type=\"password\" required>\n  \n        <label for=\"role\">Role:</label>\n        <select id=\"role\" [(ngModel)]=\"newUser.role\" name=\"role\">\n          <option value=\"NORMAL\">User</option>\n          <option value=\"ADMIN\">Admin</option>\n          <option value=\"DOCTOR\">Doctor</option>\n        </select>\n  \n        <button type=\"submit\">Create User</button>\n      </form>\n    </div>\n  -->\n    <!-- User List -->\n    <h2>Danh sách các quyền</h2>\n    <table>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Email</th>\n          <th>Role</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let user of users\">\n          <td>{{ user.user.firstName }} {{ user.user.lastName }}</td>\n          <td>{{ user.user.email }}</td>\n          <td>{{ user.user.role }}</td>\n          <td>\n            <!--<button (click)=\"selectUser(user)\">Edit</button>-->\n            <button (click)=\"deleteUser(user.userId)\">Delete</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  ","import { Component, OnInit } from '@angular/core';\nimport { AdminService } from 'src/app/service/admin.service';\n\n@Component({\n  selector: 'app-add-user',\n  templateUrl: './add-user.component.html',\n  styleUrls: ['./add-user.component.css']\n})\nexport class AddUserComponent  implements OnInit {\n  users: any[] = [];\n  selectedUser: any = null;\n  newUser: any = {};\n  \n\n  constructor(private admin: AdminService) {}\n\n  ngOnInit(): void {\n    this.fetchUsers();\n  }\n\n  fetchUsers(): void {\n    this.admin.getAllUsers().subscribe(\n      (data) => {\n        this.users = data;\n      },\n      (error) => {\n        console.error('Error fetching users:', error);\n      }\n    );\n  }\n\n  createUser(): void {\n    this.admin.createNormalUser(this.newUser).subscribe(\n      (response) => {\n        console.log('User created successfully:', response);\n        this.fetchUsers(); // Reload users after creating a new user\n        this.resetForm(); // Reset the form fields\n      },\n      (error) => {\n        console.error('Error creating user:', error);\n      }\n    );\n  }\n\n  resetForm(): void {\n    this.newUser = { firstName: '', lastName: '', email: '', password: '', role: 'NORMAL' }; // Reset form values\n  }\n\n  // Update user\n  updateUser(): void {\n    if (this.selectedUser) {\n      this.admin.updateUser(this.selectedUser.email, this.selectedUser).subscribe(\n        (response) => {\n          this.fetchUsers(); // Refresh the list after updating\n          alert('User updated successfully!');\n        },\n        (error) => {\n          console.error('Error updating user:', error);\n        }\n      );\n    }\n  }\n\n  // Delete user\n  deleteUser(userId: number): void {\n    this.admin.deleteNormalUser(userId).subscribe(\n      (response) => {\n        this.fetchUsers(); // Refresh the list after deletion\n        alert('User deleted successfully!');\n      },\n      (error) => {\n        console.error('Error deleting user:', error);\n      }\n    );\n  }\n\n  // Select user for editing\n  selectUser(user: any): void {\n    this.selectedUser = { ...user }; // Clone to prevent direct modification\n  }\n\n  // Reset selection\n  resetSelection(): void {\n    this.selectedUser = null;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}